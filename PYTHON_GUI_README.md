# 🏪 分店評價查詢系統 - Python GUI 工具

## 📖 簡介

這是分店評價查詢系統的 Python GUI 版本，提供直觀的圖形界面來查詢和分析餐廳在不同平台上的評價。

### ✨ 主要功能

- 🔍 **多平台查詢**: 支援 Google Maps、UberEats、Foodpanda
- 💾 **輸入記憶**: 自動保存和載入常用輸入
- ✈️ **Telegram 通知**: 一鍵發送分析結果到群組
- 📊 **詳細分析**: 顯示評分、評論數、店名等詳細資訊
- 🌐 **雙版本支援**: GUI 版本和網頁版本互補使用

## 🚀 快速開始

### 前置要求

1. **Python 3.7+** (建議 3.9+)
2. **Node.js 後端服務器**（必須先啟動）
3. 相關 Python 套件

### 安裝步驟

#### 1. 安裝 Python 依賴
```bash
pip install -r requirements.txt
```

#### 2. 確保後端服務器運行
```bash
# 在另一個終端中啟動 Node.js 服務器
cd "D:\\分店查詢評價\\分店評價"
node server.js
```

#### 3. 啟動 Python GUI 工具
```bash
python restaurant_review_analyzer_gui.py
```

## 🎯 使用方法

### 基本操作流程

1. **檢查服務器狀態**
   - 啟動工具後自動檢查後端連接
   - 🟢 綠色表示正常，🔴 紅色表示需要檢查後端

2. **輸入分店資訊**
   - 🏪 分店名稱：填入要查詢的餐廳名稱
   - 🗺️ Google Maps：貼上 Google Maps 網址
   - 🚗 UberEats：貼上 UberEats 店家網址  
   - 🐼 Foodpanda：貼上 Foodpanda 店家網址

3. **記憶功能使用**
   - 💾 **保存輸入**：將當前輸入保存到本地文件
   - 📂 **載入輸入**：從本地文件載入之前保存的輸入
   - 🧹 **清空輸入**：清除所有輸入框內容

4. **執行分析**
   - 📊 **開始分析評價**：向後端發送請求進行評價分析
   - ⏳ 等待分析完成（通常 20-40 秒）

5. **查看結果**
   - 詳細的分析結果會顯示在結果區域
   - 包含評分、評論數、店名、地址等資訊

6. **發送通知**
   - ✈️ **發送Telegram通知**：將分析結果發送到指定群組
   - 支援格式化的通知訊息

### 🔧 進階功能

#### 網頁版本切換
- 🌐 **開啟網頁版**：直接在瀏覽器中開啟網頁版本
- 兩個版本可以互補使用

#### 狀態監控
- 即時顯示操作狀態和錯誤資訊
- 進度條顯示分析進度
- 時間戳記錄操作歷史

## 📊 支援的平台格式

### Google Maps
- ✅ 完整網址：`https://maps.google.com/...`
- ✅ 短網址：`https://maps.app.goo.gl/...`
- ✅ 支援自動重定向

### UberEats  
- ✅ 店家網址：`https://www.ubereats.com/store-browse-uuid/...`
- ✅ 評論數格式：支援 "600+", "500+" 等格式

### Foodpanda
- ✅ 完整網址：`https://www.foodpanda.com.tw/restaurant/...`
- ✅ 短連結：`https://foodpanda.page.link/...`
- ✅ 評論數格式：支援 "600+", "500+" 等格式

## 🔧 故障排除

### 常見問題

#### 1. 服務器連接失敗
```
問題：狀態顯示 "❌ 離線"
解決：
1. 確認 Node.js 後端已啟動
2. 檢查端口 3003 是否被占用
3. 嘗試手動訪問 http://localhost:3003/health
```

#### 2. 分析請求超時
```
問題：分析過程中出現超時錯誤
解決：
1. 檢查網絡連接
2. 確認提供的網址有效
3. 等待一段時間後重試
```

#### 3. Telegram 通知失敗
```
問題：無法發送 Telegram 通知
解決：
1. 檢查後端 Telegram 配置
2. 確認 Bot Token 和 Chat ID 正確
3. 檢查網絡是否能訪問 Telegram API
```

#### 4. 記憶功能問題
```
問題：無法保存或載入輸入記憶
解決：
1. 檢查文件權限
2. 確認目錄可寫入
3. 手動刪除 restaurant_memory.json 重新開始
```

### 系統要求

#### 最低要求
- Python 3.7+
- 4GB RAM
- 100MB 可用磁盤空間
- 網絡連接

#### 建議配置
- Python 3.9+
- 8GB RAM
- SSD 儲存
- 穩定的網絡連接

## 📁 文件結構

```
分店評價查詢系統/
├── restaurant_review_analyzer_gui.py  # Python GUI 主程式
├── requirements.txt                   # Python 依賴列表
├── PYTHON_GUI_README.md              # 本說明文件
├── restaurant_memory.json            # 輸入記憶文件 (自動生成)
├── server.js                         # Node.js 後端服務器
├── utils/                            # 後端工具模組
├── public/                           # 網頁版本文件
└── test_real_data.js                 # 測試腳本
```

## 🎨 界面說明

### 主要區域

1. **標題欄**：顯示應用名稱
2. **服務器狀態區**：顯示後端連接狀態和重新檢查按鈕
3. **輸入區域**：分店名稱和各平台網址輸入框
4. **記憶功能按鈕**：保存、載入、清空、開啟網頁版
5. **操作按鈕**：開始分析、發送 Telegram 通知
6. **進度條**：顯示分析進度
7. **結果顯示區**：分析結果詳細內容
8. **狀態欄**：顯示操作狀態和時間戳

### 快捷鍵

- `Enter`：在輸入框中按 Enter 可快速跳到下一個輸入框
- `Ctrl+S`：快速保存輸入記憶（需要焦點在輸入框）
- `F5`：重新檢查服務器狀態

## 🔒 安全性

- 所有網絡請求都通過本地後端代理
- 不直接暴露任何 API 密鑰
- 輸入記憶僅保存在本地
- 支援 HTTPS 和安全連接

## 🆚 版本比較

| 功能 | Python GUI | 網頁版 |
|------|------------|--------|
| 界面類型 | 桌面應用 | 瀏覽器 |
| 離線記憶 | ✅ 文件保存 | ✅ localStorage |
| 多視窗 | ✅ 支援 | ❌ 單頁面 |
| 系統整合 | ✅ 更好 | ⚠️ 有限 |
| 安裝要求 | Python | 無需安裝 |
| 跨平台 | ✅ Windows/Mac/Linux | ✅ 所有瀏覽器 |

## 🚀 未來規劃

- [ ] 批量分析多個分店
- [ ] 歷史記錄管理
- [ ] 自定義 Telegram 訊息格式
- [ ] 分析結果匯出 (Excel/CSV)
- [ ] 定時自動分析
- [ ] 更多平台支援

## 📞 技術支援

如果遇到問題，請：

1. 查看本說明文件的故障排除章節
2. 檢查後端服務器日誌
3. 確認網絡和服務狀態
4. 重啟相關服務

---

**版本**: 1.0  
**更新日期**: 2025-08-21  
**兼容性**: Python 3.7+ / Node.js 14+  
**作者**: Claude Code